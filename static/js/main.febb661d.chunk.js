(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{132:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(57),c=a.n(r),s=(a(70),a(14)),o=a(15),i=a(17),u=a(16),m=a(18),d=a(139),p=a(142),E=a(138),h=a(140),b=a(12),g=(a(39),a(11)),f=function(e){return console.log("you selected email: ",e.id),{type:"EMAIL_SELECTED",payload:e}},v=function(e){return console.log("Compose Email Action"),{type:"COMPOSE_EMAIL",payload:e}},O=function(e){return console.log("Close Compose Action"),{type:"CLOSE_COMPOSE",payload:e}},y=function(e){return{type:"Email_Import",payload:e}},j=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"createListItems",value:function(){var e=this;return this.props.mail.map(function(t){return l.a.createElement("tr",{key:t.id,onClick:function(){return e.props.selectEmail(t)}},l.a.createElement("td",null,e.props.show?t.Sender:t.Recipient),l.a.createElement("td",{className:"nowrap"},t.Subject),l.a.createElement("td",{className:"truncate"},t.MailBody))})}},{key:"render",value:function(){return l.a.createElement("tbody",null,this.createListItems())}}]),t}(n.Component);var N=Object(b.b)(function(e){return{mail:e.EmailList}},function(e){return Object(g.a)({selectEmail:f},e)})(j),S=a(19),C=a.n(S),w=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).sendMail=function(e){C()({method:"POST",url:"/send",data:{from:a.props.currentUser,to:a.props.currentEmail.Sender,subject:"RE: "+a.props.currentEmail.Subject,msg:a.state.msg}}).then(function(e){a.props.selectEmail(""),console.log(e.data)}).catch(function(e){console.log(e)})},a.state={from:a.props.currentEmail.Sender,to:a.props.currentUser,subject:a.props.currentEmail.Subject,msg:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"modal"},l.a.createElement("header",{className:"modal-header"},l.a.createElement("span",{className:"label"},"Read Message"),l.a.createElement("button",{href:"close",className:"ui black button",onClick:function(){return e.props.selectEmail("")}},l.a.createElement("i",{className:"remove icon"}))),l.a.createElement("div",{className:"modal-container"},l.a.createElement("div",{className:"ui form"},l.a.createElement("div",{className:"inline fields"},l.a.createElement("label",null,"From :"),l.a.createElement("div",null,this.props.currentEmail.Sender)),l.a.createElement("div",{className:"ui divider"}),l.a.createElement("div",{className:"inline fields"},l.a.createElement("label",null,"Subject:"),l.a.createElement("div",null,this.props.currentEmail.Subject)),l.a.createElement("div",{className:"ui divider"}),l.a.createElement("div",{className:"field"},l.a.createElement("p",null,this.props.currentEmail.MailBody)),l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"Type Reply Here:",l.a.createElement("textarea",{value:this.state.msg,onChange:function(t){return e.setState({msg:t.target.value})}}))))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"ui primary button",role:"button",onClick:this.sendMail},"Reply")))}}]),t}(n.Component);var k=Object(b.b)(function(e){return{mail:e.EmailList,currentEmail:e.mailEditReducer.currentEmail,currentUser:e.userReducer.email}},function(e){return Object(g.a)({selectEmail:f},e)})(w),U=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).sendMail=function(e){C()({method:"POST",url:"/send",data:{from:a.props.currentUser,to:a.state.recipient,subject:a.state.subject,msg:a.state.msg}}).then(function(e){a.props.closeCompose(),console.log(e.data)}).catch(function(e){console.log(e)})},a.state={recipient:"",subject:"",msg:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"compose-modal",className:"modal"},l.a.createElement("header",{className:"modal-header"},l.a.createElement("span",{className:"label"},"Compose Message"),l.a.createElement("button",{href:"close",className:"ui black button",onClick:function(){return e.props.closeCompose()}},l.a.createElement("i",{className:"remove icon"}))),l.a.createElement("div",{className:"modal-container"},l.a.createElement("div",{className:"ui form"},l.a.createElement("div",{className:"inline fields"},l.a.createElement("label",null,"From :"),l.a.createElement("div",null,this.props.currentUser)),l.a.createElement("div",{className:"inline fields"},l.a.createElement("label",null,"To:"),l.a.createElement("input",{value:this.state.recipient,onChange:function(t){return e.setState({recipient:t.target.value})}})),l.a.createElement("div",{className:"inline fields"},l.a.createElement("label",null,"Subject:"),l.a.createElement("input",{value:this.state.subject,onChange:function(t){return e.setState({subject:t.target.value})}})),l.a.createElement("div",{className:"ui divider"}),l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"Compose Email:",l.a.createElement("textarea",{value:this.state.msg,onChange:function(t){return e.setState({msg:t.target.value})}}))))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"ui primary button",role:"button",onClick:this.sendMail},"Send")))}}]),t}(n.Component);var R=Object(b.b)(function(e){return{composeEmail:e.mailEditReducer.composeEmail,currentUser:e.userReducer.email,reply:e.composeEmailReducer.reply}},function(e){return Object(g.a)({composeEmail:v,closeCompose:O},e)})(U),L=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).getInbox=function(e){a.setState({inbox:!0}),C()({method:"POST",url:"/mail",data:{user:a.props.currentUser,Show:"Inbox"}}).then(function(e){console.log(e.data),a.props.importEmails(e.data)}).catch(function(e){console.log(e)})},a.getSentmail=function(e){a.setState({inbox:!1}),C()({method:"POST",url:"/mail",data:{user:a.props.currentUser,Show:"Sent"}}).then(function(e){console.log(e.data),a.props.importEmails(e.data)}).catch(function(e){console.log(e)})},a.getTrash=function(e){C()({method:"POST",url:"/mail",data:{user:a.props.currentUser,Show:"Trash"}}).then(function(e){console.log(e.data),a.props.importEmails(e.data)}).catch(function(e){console.log(e)})},a.displayLog=function(e){console.log(a.props.currentUser)},a.state={from:"",to:"",message:"",inbox:!0},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getInbox()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"App-header"},l.a.createElement("h1",{className:"red ui header"},l.a.createElement("i",{className:"envelope open outline icon"}),"O-mail"),l.a.createElement("div",{className:"sidenav"},l.a.createElement("div",{className:"fluid ui large vertical buttons"},l.a.createElement("button",{href:"Sent",className:"ui primary button",onClick:function(){return e.props.composeEmail(e.state)}},l.a.createElement("i",{className:"paper plane icon"}),"Compose"),l.a.createElement("button",{className:"fluid ui button",onClick:this.getInbox},l.a.createElement("i",{className:"inbox icon"}),"Inbox"),l.a.createElement("button",{className:"fluid ui button",onClick:this.getSentmail},l.a.createElement("i",{className:"envelope icon"}),"Sent Mail"),l.a.createElement("button",{href:"Trash",className:"fluid ui button",onClick:this.getTrash},l.a.createElement("i",{className:"trash icon"}),"Trash"))),l.a.createElement("div",{className:"main"},l.a.createElement("div",{className:"search-container"},l.a.createElement("div",{className:"fluid ui action input"},l.a.createElement("input",{type:"text",placeholder:"Search..."}),l.a.createElement("button",{className:"ui button"},l.a.createElement("i",{className:"search icon"}),"Search"))),l.a.createElement("div",{className:"rows"},l.a.createElement("table",{id:"table",className:"ui striped compact selectable celled table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,this.state.inbox?"From":"to"),l.a.createElement("th",null,"Subject"),l.a.createElement("th",null,"Preview"))),l.a.createElement(N,{show:this.state.inbox})),this.props.currentEmail&&l.a.createElement(k,null),this.props.reply&&l.a.createElement(R,null)))))}}]),t}(n.Component);var I=Object(b.b)(function(e,t){return{currentEmail:e.mailEditReducer.currentEmail,currentUser:e.userReducer.email,reply:e.composeEmailReducer.reply}},function(e){return Object(g.a)({composeEmail:v,importEmails:y,closeCompose:O},e)})(L),M=a(60),T=a(24),x=a(141),P=a(135),_=a(137),A=a(136),F=(a(98),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).createUser=function(e){C()({method:"POST",url:"/create",data:{user:a.state.email,password:a.state.password}}).then(function(e){console.log(e),e.data||alert("Username already in use.")}).catch(function(e){console.log(e)}),a.setState({email:"",password:""})},a.loginCheck=function(e){C()({method:"POST",url:"/login",data:{user:a.state.email,password:a.state.password}}).then(function(e){console.log(e),e.data?("easteregg"==a.state.cur_User&&(window.location.href="http://csc412sfsu.com/~pnaing/Game.html"),a.props.loginRequest(a.state.cur_User),a.state.islogged=!0):alert("Username or Password is incorrect")}).then(a.routeChange).catch(function(e){console.log(e)}),a.setState({cur_User:a.state.email,email:"",password:""})},a.displayLog=function(e){console.log(a.props.logged),console.log(a.props.currentUser)},a.handleChange=function(e){a.setState(Object(M.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault()},a.displayScreenLog=function(e){a.setState.state&&alert("Username already in use.")},a.routeChange=a.routeChange.bind(Object(T.a)(Object(T.a)(a))),a.state={email:"",password:"",cur_User:"",islogged:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"validateForm",value:function(){return this.state.email.length>0&&this.state.password.length>0}},{key:"routeChange",value:function(){if(this.state.islogged){this.props.history.push("logged")}}},{key:"render",value:function(){return l.a.createElement("div",{className:"Login"},l.a.createElement("h1",{className:"red ui header"},l.a.createElement("i",{className:"envelope open outline icon"}),"O-mail"),l.a.createElement("form",{onSubmit:this.handleSubmit,className:"login-panel"},l.a.createElement(x.a,{controlId:"email",bsSize:"large",className:"email"},l.a.createElement(P.a,null,"Email:"),l.a.createElement(_.a,{autoFocus:!0,type:"text",value:this.state.email,onChange:this.handleChange})),l.a.createElement(x.a,{controlId:"password",bsSize:"large",className:"password"},l.a.createElement(P.a,null,"Password:"),l.a.createElement(_.a,{value:this.state.password,onChange:this.handleChange,type:"password"})),l.a.createElement(A.a,{className:"ui primary button login",block:!0,bsSize:"large",disabled:!this.validateForm(),type:"submit",onClick:this.loginCheck},"Login"),l.a.createElement(A.a,{className:"ui secondary button create",block:!0,bsSize:"large",disabled:!this.validateForm(),type:"submit",onClick:this.createUser},"Create User")))}}]),t}(n.Component)),z={loginRequest:function(e){return{type:"LOGIN_REQUEST",payload:e}}},B=Object(b.b)(function(e,t){return{currentUser:e.userReducer.email}},z)(F),D=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"App"},l.a.createElement(d.a,null,l.a.createElement("div",null,l.a.createElement(p.a,{path:"/",render:function(){return e.props.logged?l.a.createElement(E.a,{to:"/login"}):l.a.createElement(E.a,{to:"/logged"})}}),l.a.createElement(h.a,null,l.a.createElement(p.a,{path:"/login",component:B}),l.a.createElement(p.a,{path:"/logged",component:I})))))}}]),t}(n.Component),G=Object(b.b)(function(e,t){return{logged:e.userReducer.logged}},{})(D);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var q=[],J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Email_Import":return t.payload;default:return e}},Q={test:"test value",messages:["a demo message"],currentEmail:null},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EMAIL_SELECTED":return Object.assign({},e,{currentEmail:t.payload});default:return e}},H={email:"pyae",logged:!0},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_REQUEST":return Object.assign({},e,{email:t.payload,logged:!1});default:return e}},K={currentEmail:!1,username:null,reply:!1},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K;switch((arguments.length>1?arguments[1]:void 0).type){case"COMPOSE_EMAIL":return Object.assign({},e,{reply:!0});case"CLOSE_COMPOSE":return Object.assign({},e,{reply:!1});default:return e}},X=Object(g.b)({EmailList:J,mailEditReducer:W,userReducer:$,composeEmailReducer:V}),Y=Object(g.c)(X);c.a.render(l.a.createElement(b.a,{store:Y},l.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},39:function(e,t,a){},65:function(e,t,a){e.exports=a(132)},70:function(e,t,a){},98:function(e,t,a){}},[[65,2,1]]]);
//# sourceMappingURL=main.febb661d.chunk.js.map